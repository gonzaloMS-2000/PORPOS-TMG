# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
# mldf[7, "available"] = 0
# mldf[89, "available"] = 0
# mldf[14, "available"] = 0
mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf[c(1543:1545),]
# mldf[2138, "available"] = 0
mldf[1544, "available"] = 0
mldf[c(1543:1545),]
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
# mldf[7, "available"] = 0
# mldf[89, "available"] = 0
# mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf[c(1543:1545),]
source('C:/Users/ethan/Desktop/Availability.R', echo=TRUE)
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
# mldf[7, "available"] = 0
# mldf[89, "available"] = 0
# mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
mldf[602, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf[c(601:603),]
mldf[c(1543:1545),]
mldf[c(19:21),]
mldf[c(16:18),]
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
# mldf[7, "available"] = 0
# mldf[89, "available"] = 0
# mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
mldf[16, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
# mldf[89, "available"] = 0
# mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
# mldf[16, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
# head(mldf, 12)
# Column for availability
# mldf$available = ifelse((mldf$alt == "Auto" & mldf$Cars > 0), 1, ifelse((mldf$alt == "Transit"), 1, ifelse((mldf$alt == "Active" & mldf$Time < 300), 1, 0)))
# mldf$available = (mldf$alt == "Auto" & mldf$Cars > 0) | (mldf$alt == "Transit") | (mldf$alt == "Active" & mldf$Time < 300)
mldf$available = 1
mldf$available = as.logical(mldf$available)
table(mldf$available)
table(mldf$Mode & mldf$available)
mldf[7, "available"] = 0
mldf[89, "available"] = 0
mldf[14, "available"] = 0
# mldf[2138, "available"] = 0
# mldf[1544, "available"] = 0
# mldf[602, "available"] = 0
# mldf[16, "available"] = 0
#$available
# Run MNL model
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
print(summary(model))
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(1, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(16, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(19, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(25, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(64, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(64, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(73, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(88, 100, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(88, 200, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(2101, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
new_df = mldf[c(16:18, 22:24, 61:63, 70:72, 85:87, 115:117, 2107:2109)]
new_df = mldf[c(16:18, 22:24, 61:63, 70:72, 85:87, 115:117, 2107:2109),]
head(new_df, 21)
write.csv(new_df, "FailureCases.csv")
getwd()
write.csv(new_df, "C:/Users/Ethan/Desktop/FailureCases.csv")
for (row in seq(2, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
for (row in seq(8, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
for (row in seq(11, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(35, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(38, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(41, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
for (row in seq(44, 3000, 3))
{
print(row)
mldf$available = 1
if (!mldf[row, "Mode"])
{
mldf[row, "available"] = 0
}
model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1)
#tryCatch(model = mlogit(Mode ~ 0| 1 | Time, data = mldf, reflevel = "Transit", subset = mldf$available == 1),
#        )
}
source('C:/Users/ethan/Desktop/Availability.R', echo=TRUE)
source('C:/Users/ethan/Desktop/Availability.R', echo=TRUE)
source('C:/Users/ethan/Desktop/Availability.R', echo=TRUE)
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
new_df = mldf[c(16:18, 22:24, 61:63, 70:72, 85:87, 115:117, 2107:2109),]
write.csv(new_df, "C:/Users/Ethan/Desktop/FailureCasesActive.csv")
new_df2 = mldf[c(7:9, 31:42, 46:51, 2110:2112, 2122:2124),]
write.csv(new_df, "C:/Users/Ethan/Desktop/FailureCasesAuto.csv")
mldf = mlogit.data(df_mode, varying = 12:14, choice = "Mode", shape = "wide")
new_df = mldf[c(16:18, 22:24, 61:63, 70:72, 85:87, 115:117, 2107:2109),]
write.csv(new_df, "C:/Users/Ethan/Desktop/FailureCasesActive.csv")
new_df2 = mldf[c(7:9, 31:42, 46:51, 2110:2112, 2122:2124),]
write.csv(new_df2, "C:/Users/Ethan/Desktop/FailureCasesAuto.csv")
source('~/.active-rstudio-document', echo=TRUE)
install.packages("plyr")
source('~/.active-rstudio-document', echo=TRUE)
install.packages("devtools")
source('~/.active-rstudio-document', echo=TRUE)
install_version("mlogit", version = "0.4-2", repos = "http://cran.us.r-project.org")
detach("package:mlogit", unload = TRUE)
install_version("mlogit", version = "0.4-2", repos = "http://cran.us.r-project.org")
library(plyr)
library(dplyr)
avdf <- read.csv("C:/Users/Ethan/Desktop/MChInput_2015_withColumns.csv")
GO = avdf %>% select(Mode,Time.Active,Time.Auto,Time.Transit,Cars)
str(GO)
GO = filter(GO,GO$Time.Active<=600)
GO = filter(GO,GO$Time.Auto<=150)
GO = filter(GO,GO$Time.Transit<=200)
GO = filter(GO,!(GO$Mode=="Auto" & GO$Cars==0))
GO = filter(GO,!(GO$Mode=="Active" & GO$Time.Active>=300))
GO = filter(GO,!(GO$Time.Active>=300 & GO$Cars==0))
table(GO$Mode,GO$Cars)
GO_L = mlogit.data(GO, varying = 2:4, choice = "Mode", shape = "wide")
GO_L$available = ifelse((GO_L$alt == "Auto" & GO_L$Cars > 0), 1, ifelse((GO_L$alt == "Transit"), 1, ifelse((GO_L$alt == "Active" & GO_L$Time < 300), 1, 0)))
table(GO_L$available)
table(GO_L$Mode, GO_L$available)
ML.1 = mlogit(Mode ~ 0 | 1 | Time, data = GO_L, reflevel = "Transit", subset = GO_L$available == 1)
print(summary(ML.1))
ML.2 = mlogit(Mode ~ 0 | 1 | Time, data = GO_L, reflevel = "Transit")
print(summary(ML.2))
library(mlogit)
GO_L = mlogit.data(GO, varying = 2:4, choice = "Mode", shape = "wide")
library(mlogit)
require(mlogit)
source('C:/Users/ethan/Desktop/Availability_Gozde.R', echo=TRUE)
